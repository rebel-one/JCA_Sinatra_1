// Generated by CoffeeScript 1.6.3
/*  Javascript for activating Bootsrap*/

var languages, pathname, prefix, prefix_num, _ref,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

if (gonPrefix !== '') {
  prefix_num = 1;
  prefix = "/" + gonPrefix;
} else {
  prefix_num = 0;
  prefix = '';
}

$(document).ready(function() {
  $(".dropdown-toggle").dropdown();
  $(".nav-tabs").button();
  $("table").addClass("table table-bordered");
  $("tr").addClass("info");
  $("img").addClass("img-rounded");
  $("[data-spy=\"scroll\"]").each(function() {
    var $spy;
    return $spy = $(this).scrollspy("refresh");
  });
  $(".carousel").carousel();
  if (pathname[prefix_num + 2] === "home") {
    return $("body").addClass("mainpage");
  }
});

/*  Javascript for language switching*/


pathname = window.location.pathname;

pathname = pathname.split('/');

languages = ['en', 'es', 'pirate'];

if (_ref = pathname[prefix_num + 1], __indexOf.call(languages, _ref) < 0) {
  window.location.pathname = "" + prefix + "/es" + (pathname.join('/'));
}

$(document).ready(function() {
  $("button#english").on("click", function() {
    if (pathname[prefix_num + 1] === "en") {
      return console.log(pathname[prefix_num + 1]);
    } else {
      pathname[prefix_num + 1] = "en";
      return window.location.pathname = pathname.join("/");
    }
  });
  return $("button#spanish").click(function() {
    if (pathname[prefix_num + 1] === "es") {
      return console.log(pathname[prefix_num + 1]);
    } else {
      pathname[prefix_num + 1] = "es";
      return window.location.pathname = pathname.join("/");
    }
  });
});

/*  Javascript for pdf iframes*/


$(document).ready(function() {
  var pdf_year_or_area;
  if (pathname[prefix_num + 2] === "dias" || "permits") {
    if (pathname[prefix_num + 3] === "all") {
      pdf_year_or_area = "";
    } else {
      pdf_year_or_area = pathname[prefix_num + 3];
    }
    $("#pdfs_reports").find("iframe").attr("src", ("" + prefix + "/pdfs/") + pathname[prefix_num + 2] + "/" + pdf_year_or_area);
    $("#pdfs_reports").find("iframe").attr("style", "background:white; min-width:300px; min-height:300px");
  }
  if (pathname[prefix_num + 2] === "env_reports") {
    $("#pdfs_reports").find("iframe").attr("src", "" + prefix + "/pdfs/communications/environmental_reports");
    return $("#pdfs_reports").find("iframe").attr("style", "background:white; min-width:300px; min-height:300px");
  }
});

/*  Javascript for Calendar*/


$(document).ready(function() {
  if (pathname[prefix_num + 2] === "home") {
    return $(window).load(function() {
      if ($('#googlecalendar').length <= 0) {
        return;
      }
      return $("#googlecalendar").attr("src", "//www.google.com/calendar/embed?title=Calendario%20de%20Vistas%20Publicas&amp;amp;showTitle=0&amp;amp;showNav=0&amp;amp;showPrint=0&amp;amp;showTz=0&amp;amp;height=300&amp;amp;wkst=2&amp;amp;bgcolor=%23ffffff&amp;amp;src=juntacalidadambientalcalendar%40gmail.com&amp;amp;color=%23125A12&amp;amp;ctz=America%2FPuerto_Rico");
    });
  }
});